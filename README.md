# X-UI Telegram Bot

ربات تلگرام برای مدیریت و نظارت بر پنل X-UI

## 🚀 امکانات

### 👥 مدیریت کاربران
- افزودن کاربر جدید
- بروزرسانی کاربران موجود
- ریست ترافیک کاربران
- مشاهده IP های متصل شده
- نمایش کاربران آنلاین

### 📊 گزارش‌گیری
- نمایش آمار مصرف
- وضعیت اتصال
- تاریخ انقضا
- حجم باقیمانده
- گزارش کاربران آنلاین

### 🛡️ پشتیبان‌گیری
- تهیه نسخه پشتیبان از تنظیمات
- ذخیره اطلاعات کاربران

## ⚙️ نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.7+
- pip (Python Package Manager)
- دسترسی به پنل X-UI
- توکن ربات تلگرام

### نصب
1. کلون کردن مخزن:
```bash
git clone https://github.com/yourusername/xui-bot.git
cd xui-bot
```

2. نصب وابستگی‌ها:
```bash
pip install -r requirements.txt
```

3. تنظیم پیکربندی:
- ویرایش فایل `src/config/config.py`:
  ```python
  X_UI_CONFIG = {
      "URL": "http://your-panel-url:port",
      "USERNAME": "your-username",
      "PASSWORD": "your-password",
      "DEFAULT_INBOUND_ID": 1
  }

  TELEGRAM_CONFIG = {
      "BOT_TOKEN": "your-bot-token",
      "ADMIN_IDS": []  # آیدی عددی ادمین‌ها
  }
  ```

4. اجرای ربات:
```bash
python src/main.py
```

## 📝 دستورات ربات

- `/start` - شروع کار با ربات
- `/help` - نمایش راهنما
- `/add [email] [GB] [days]` - افزودن کاربر جدید
- `/update [email] [GB] [days]` - بروزرسانی کاربر
- `/reset [email]` - ریست ترافیک
- `/ips [email]` - نمایش IP های فعال
- `/online` - نمایش کاربران آنلاین
- `/backup` - تهیه نسخه پشتیبان

## 📁 ساختار پروژه

```
.
├── src/
│   ├── api/
│   │   └── xui_client.py      # کلاینت API برای X-UI
│   ├── config/
│   │   └── config.py          # تنظیمات
│   ├── handlers/
│   │   └── bot_handlers.py    # هندلرهای ربات
│   ├── models/
│   │   └── client.py          # مدل‌های داده
│   ├── utils/
│   │   ├── formatting.py      # توابع فرمت‌دهی
│   │   └── validators.py      # اعتبارسنجی
│   └── main.py               # فایل اصلی
├── requirements.txt          # وابستگی‌ها
└── README.md                # مستندات
```

## 🔒 امنیت
- از نگهداری اطلاعات حساس در کد خودداری کنید
- دسترسی‌های را محدود کنید
- از توکن ربات محافظت کنید
- لاگ‌ها را منظم بررسی کنید

## 🤝 مشارکت
پیشنهادات و مشارکت‌های شما باعث بهبود پروژه می‌شود. لطفاً:
1. Fork کنید
2. Branch جدید بسازید
3. تغییرات را Commit کنید
4. Push کنید
5. Pull Request بدهید

## 📄 لایسنس
این پروژه تحت لایسنس MIT منتشر شده است.

## ⚠️ نکات مهم
- قبل از استفاده، تنظیمات را با دقت انجام دهید
- از صحت آدرس پنل X-UI اطمینان حاصل کنید
- دسترسی‌های لازم را بررسی کنید
- همیشه از داده‌های مهم پشتیبان بگیرید 