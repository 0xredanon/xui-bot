# X-UI Telegram Bot

ربات تلگرام برای مدیریت و نظارت بر پنل X-UI با قابلیت‌های پیشرفته و امن

## 🚀 امکانات نسخه 1.2.0

### 👥 مدیریت کاربران
- افزودن کاربر جدید با اطلاعات کامل
- بروزرسانی کاربران موجود
- ریست ترافیک کاربران
- مشاهده IP های متصل شده
- نمایش کاربران آنلاین
- ردیابی فعالیت‌های کاربران

### 📊 گزارش‌گیری پیشرفته
- نمایش آمار مصرف دقیق
- وضعیت اتصال با جزئیات
- تاریخ انقضا
- حجم باقیمانده
- گزارش کاربران آنلاین
- آمار سیستم
- لاگ‌های سیستم

### 🛡️ امکانات مدیریتی
- پنل مدیریت پیشرفته
- مانیتورینگ سیستم
- ارسال پیام گروهی
- مدیریت دسترسی‌ها
- پشتیبان‌گیری خودکار
- ثبت تمامی فعالیت‌ها

### 🔐 امنیت و ثبات
- ذخیره‌سازی امن در دیتابیس
- لاگینگ پیشرفته تمام رویدادها
- پشتیبان‌گیری منظم از داده‌ها
- مدیریت خطاها و استثناها
- محدودیت دسترسی‌ها

## ⚙️ نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.7+
- pip (Python Package Manager)
- دسترسی به پنل X-UI
- توکن ربات تلگرام

### نصب
1. کلون کردن مخزن:
```bash
git clone https://github.com/yourusername/xui-bot.git
cd xui-bot
```

2. نصب وابستگی‌ها:
```bash
pip install -r requirements.txt
```

3. کپی و ویرایش فایل محیطی:
```bash
cp .env.example .env
# ویرایش فایل .env و تنظیم مقادیر مورد نیاز
```

4. اجرای ربات:
```bash
python main.py
```

## 📝 دستورات ربات

### دستورات عمومی
- `/start` - شروع کار با ربات
- `/help` - نمایش راهنما
- `/status` - نمایش وضعیت اکانت
- `/ips` - نمایش IP های متصل شده
- `/usage` - نمایش میزان مصرف

### دستورات مدیریتی
- `/add [email] [GB] [days]` - افزودن کاربر جدید
- `/update [email] [GB] [days]` - بروزرسانی کاربر
- `/reset [email]` - ریست ترافیک
- `/users` - لیست کاربران
- `/stats` - آمار سیستم
- `/logs [count]` - نمایش لاگ‌ها
- `/system` - اطلاعات سیستم
- `/broadcast [message]` - ارسال پیام به همه
- `/backup` - تهیه نسخه پشتیبان

## 📁 ساختار پروژه

```
.
├── main.py                 # فایل اصلی اجرایی
├── src/                    # کد اصلی پروژه
│   ├── api/               # ارتباط با API
│   │   └── xui_client.py  # کلاینت X-UI
│   ├── database/          # لایه دیتابیس
│   │   └── db.py         # کلاس مدیریت دیتابیس
│   ├── handlers/          # پردازش دستورات
│   │   ├── admin.py      # دستورات مدیر
│   │   └── help.py       # راهنما
│   └── utils/            # توابع کمکی
│       ├── decorators.py # دکوریتورها
│       └── formatting.py # قالب‌بندی متن
├── data/                 # دیتابیس و داده‌ها
├── logs/                 # لاگ‌های سیستم
├── backups/             # پشتیبان‌ها
├── requirements.txt     # وابستگی‌ها
├── .env.example         # نمونه تنظیمات
└── README.md           # مستندات
```

## 🔒 امنیت
- استفاده از دیتابیس SQLite برای ذخیره‌سازی امن
- رمزنگاری داده‌های حساس
- ثبت تمامی فعالیت‌ها
- محدودیت دسترسی IP
- پشتیبان‌گیری خودکار

## 🤝 مشارکت
پیشنهادات و مشارکت‌های شما باعث بهبود پروژه می‌شود:
1. Fork کنید
2. Branch جدید بسازید
3. تغییرات را Commit کنید
4. Push کنید
5. Pull Request بدهید

## 📄 لایسنس
این پروژه تحت لایسنس MIT منتشر شده است.

## ⚠️ نکات مهم
- قبل از استفاده، تنظیمات را با دقت انجام دهید
- از صحت آدرس پنل X-UI اطمینان حاصل کنید
- دسترسی‌های لازم را بررسی کنید
- همیشه از داده‌های مهم پشتیبان بگیرید
- لاگ‌ها را مرتب بررسی کنید

## 🆕 تغییرات نسخه 1.2.0
- افزودن دیتابیس SQLite برای ذخیره‌سازی داده‌ها
- بهبود سیستم لاگینگ و ثبت رویدادها
- اضافه شدن قابلیت‌های مدیریتی جدید
- بهبود امنیت و پایداری
- رفع باگ‌های گزارش شده
- بهبود رابط کاربری و پیام‌ها 